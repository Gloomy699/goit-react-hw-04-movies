{"version":3,"sources":["Components/Cast/Cast.module.css","Components/Cast/Cast.js"],"names":["module","exports","Cast","movieId","useState","castList","setCastList","page","setPage","totalPages","setTotalPages","useEffect","api","then","data","cast","Math","ceil","length","className","s","container","filter","el","index","map","actor","castItem","photo","src","profile_path","alt","name","descriptBox","roleBox","role","character","id","Pagination","count","onChange","evt","value","boundaryCount","color"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,UAAY,wBAAwB,SAAW,uBAAuB,SAAW,uBAAuB,MAAQ,oBAAoB,YAAc,0BAA0B,KAAO,mBAAmB,QAAU,sBAAsB,KAAO,mBAAmB,mBAAmB,iC,0IC0EtRC,EArEF,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACIC,mBAAS,MADb,mBACrBC,EADqB,KACXC,EADW,OAEJF,mBAAS,GAFL,mBAErBG,EAFqB,KAEfC,EAFe,OAGQJ,mBAAS,GAHjB,mBAGrBK,EAHqB,KAGTC,EAHS,KAK5BC,qBAAU,WACRC,IAAgBT,GAASU,MAAK,SAAAC,GAC5BR,EAAYQ,EAAKC,MACjBL,EAAcM,KAAKC,KAAKH,EAAKC,KAAKG,OAAS,KAC3CV,EAAQ,QAET,CAACL,IAMJ,OACE,mCACGE,GACC,sBAAKc,UAAWC,IAAEC,UAAlB,UACE,oBAAIF,UAAWC,IAAEf,SAAjB,SACGA,EACEiB,QACC,SAACC,EAAIC,GAAL,OACEA,GAAgB,GAAPjB,EAAY,IAAMiB,GAAgB,GAAPjB,EAAY,KAEnDkB,KAAI,SAAAC,GAAK,OACR,qBAAmBP,UAAWC,IAAEO,SAAhC,UACE,qBACER,UAAWC,IAAEQ,MACbC,IACEH,EAAMI,aAAN,0CACuCJ,EAAMI,cACzC,8FAENC,IAAKL,EAAMM,OAEb,sBAAKb,UAAWC,IAAEa,YAAlB,UACE,oBAAId,UAAWC,IAAEY,KAAjB,SAAwBN,EAAMM,OAC9B,oBAAGb,UAAWC,IAAEc,QAAhB,UACE,sBAAMf,UAAWC,IAAEe,KAAnB,yBACA,qCAAQT,EAAMU,qBAdXV,EAAMW,SAoBpB5B,EAAa,GACZ,8BACE,cAAC6B,EAAA,EAAD,CACEC,MAAO9B,EACPF,KAAMA,EACNiC,SAxCO,SAACC,EAAKC,GACzBlC,EAAQkC,IAwCIC,cAAe,EACfC,MAAM","file":"static/js/cast-subview.f8aee732.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cast_container__1cOdw\",\"castList\":\"Cast_castList__3DwXC\",\"castItem\":\"Cast_castItem__Vh2j1\",\"photo\":\"Cast_photo__N6Vqa\",\"descriptBox\":\"Cast_descriptBox__29fz-\",\"name\":\"Cast_name__1-EpT\",\"roleBox\":\"Cast_roleBox__1QfM3\",\"role\":\"Cast_role__1WQYl\",\"MuiPagination-ul\":\"Cast_MuiPagination-ul__2EJ7X\"};","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Pagination } from '@material-ui/lab';\nimport * as api from '../../Services/apiServices';\nimport s from './Cast.module.css';\n\nconst Cast = ({ movieId }) => {\n  const [castList, setCastList] = useState(null);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  useEffect(() => {\n    api.getCastList(movieId).then(data => {\n      setCastList(data.cast);\n      setTotalPages(Math.ceil(data.cast.length / 20));\n      setPage(1);\n    });\n  }, [movieId]);\n\n  const handleChange = (evt, value) => {\n    setPage(value);\n  };\n\n  return (\n    <>\n      {castList && (\n        <div className={s.container}>\n          <ul className={s.castList}>\n            {castList\n              .filter(\n                (el, index) =>\n                  index >= page * 20 - 20 && index <= page * 20 - 1,\n              )\n              .map(actor => (\n                <li key={actor.id} className={s.castItem}>\n                  <img\n                    className={s.photo}\n                    src={\n                      actor.profile_path\n                        ? `https://image.tmdb.org/t/p/w500/${actor.profile_path}`\n                        : 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Noimage.svg/555px-Noimage.svg.png'\n                    }\n                    alt={actor.name}\n                  ></img>\n                  <div className={s.descriptBox}>\n                    <h2 className={s.name}>{actor.name}</h2>\n                    <p className={s.roleBox}>\n                      <span className={s.role}>Character: </span>\n                      <span> {actor.character}</span>\n                    </p>\n                  </div>\n                </li>\n              ))}\n          </ul>\n          {totalPages > 1 && (\n            <div>\n              <Pagination\n                count={totalPages}\n                page={page}\n                onChange={handleChange}\n                boundaryCount={2}\n                color=\"secondary\"\n              />\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nCast.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nexport default Cast;\n"],"sourceRoot":""}